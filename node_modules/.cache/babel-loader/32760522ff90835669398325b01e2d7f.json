{"ast":null,"code":"import _toConsumableArray from\"/Users/developer/Documents/Work/Glomo/sports-poll/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/developer/Documents/Work/Glomo/sports-poll/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import VoteTeam from\"./VoteTeam\";import thumbsup_img from'../img/thumbsup.png';function Teams(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),teams=_useState2[0],setTeams=_useState2[1];var _useState3=useState(window.localStorage.getItem(\"votedTeams\")?JSON.parse(window.localStorage.getItem(\"votedTeams\")):[]),_useState4=_slicedToArray(_useState3,2),votedTeams=_useState4[0],setVotedTeams=_useState4[1];function placeVote(index,type){var tempTeams=_toConsumableArray(teams);var tempVotedTeams=tempTeams[index];tempVotedTeams.voteType=type;var tempVotedTeams1=[].concat(_toConsumableArray(votedTeams),[tempVotedTeams]);tempTeams.splice(index,1);setTeams(tempTeams);setVotedTeams(tempVotedTeams1);window.localStorage.setItem(\"teams\",JSON.stringify(tempTeams));window.localStorage.setItem(\"votedTeams\",JSON.stringify(tempVotedTeams1));window.location.reload();};var voteHomeTeam=function voteHomeTeam(index){placeVote(index,\"Home Team\");};var voteDraw=function voteDraw(index){placeVote(index,\"Draw\");};var voteAwayTeam=function voteAwayTeam(index){placeVote(index,\"Away Team\");};useEffect(function(){setTeams(JSON.parse(window.localStorage.getItem(\"teams\")));},[]);return React.createElement(\"div\",null,teams.map(function(team,index){return React.createElement(VoteTeam,{key:index,index:index,team:team,voteHomeTeam:voteHomeTeam,voteDraw:voteDraw,voteAwayTeam:voteAwayTeam});}),React.createElement(\"div\",{style:{display:teams.length===0?\"\":\"none\",textAlign:\"center\",color:\"#ffffff\"}},React.createElement(\"img\",{style:{width:\"100px\"},src:thumbsup_img,alt:\"Finished\"}),React.createElement(\"p\",null,\"Hurray! Finished.\")));}export default Teams;","map":{"version":3,"sources":["/Users/developer/Documents/Work/Glomo/sports-poll/src/components/Teams.jsx"],"names":["React","useState","useEffect","VoteTeam","thumbsup_img","Teams","teams","setTeams","window","localStorage","getItem","JSON","parse","votedTeams","setVotedTeams","placeVote","index","type","tempTeams","tempVotedTeams","voteType","tempVotedTeams1","splice","setItem","stringify","location","reload","voteHomeTeam","voteDraw","voteAwayTeam","map","team","display","length","textAlign","color","width"],"mappings":"gRAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,qBAAzB,CAEA,QAASC,CAAAA,KAAT,EAAiB,eACWJ,QAAQ,CAAC,EAAD,CADnB,wCACRK,KADQ,eACDC,QADC,8BAEqBN,QAAQ,CAACO,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,EAA4CC,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAAX,CAA5C,CAAoG,EAArG,CAF7B,yCAERG,UAFQ,eAEIC,aAFJ,eAIf,QAASC,CAAAA,SAAT,CAAoBC,KAApB,CAA2BC,IAA3B,CAAiC,CAC/B,GAAMC,CAAAA,SAAS,oBAAOZ,KAAP,CAAf,CAGA,GAAMa,CAAAA,cAAc,CAAGD,SAAS,CAACF,KAAD,CAAhC,CACAG,cAAc,CAACC,QAAf,CAA0BH,IAA1B,CACA,GAAMI,CAAAA,eAAe,8BAAOR,UAAP,GAAmBM,cAAnB,EAArB,CACAD,SAAS,CAACI,MAAV,CAAiBN,KAAjB,CAAwB,CAAxB,EACAT,QAAQ,CAACW,SAAD,CAAR,CAEAJ,aAAa,CAACO,eAAD,CAAb,CACAb,MAAM,CAACC,YAAP,CAAoBc,OAApB,CAA4B,OAA5B,CAAqCZ,IAAI,CAACa,SAAL,CAAeN,SAAf,CAArC,EACAV,MAAM,CAACC,YAAP,CAAoBc,OAApB,CAA4B,YAA5B,CAA0CZ,IAAI,CAACa,SAAL,CAAeH,eAAf,CAA1C,EAEAb,MAAM,CAACiB,QAAP,CAAgBC,MAAhB,GACD,EAED,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAX,KAAK,CAAI,CAC5BD,SAAS,CAACC,KAAD,CAAQ,WAAR,CAAT,CACD,CAFD,CAIA,GAAMY,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAZ,KAAK,CAAI,CACxBD,SAAS,CAACC,KAAD,CAAQ,MAAR,CAAT,CACD,CAFD,CAIA,GAAMa,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAb,KAAK,CAAI,CAC5BD,SAAS,CAACC,KAAD,CAAQ,WAAR,CAAT,CACD,CAFD,CAIAd,SAAS,CAAC,UAAM,CACdK,QAAQ,CAACI,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAX,CAAD,CAAR,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,MACE,gCACKJ,KAAK,CAACwB,GAAN,CAAU,SAACC,IAAD,CAAOf,KAAP,QACP,qBAAC,QAAD,EACI,GAAG,CAAEA,KADT,CAEI,KAAK,CAAEA,KAFX,CAGI,IAAI,CAAEe,IAHV,CAII,YAAY,CAAEJ,YAJlB,CAKI,QAAQ,CAAEC,QALd,CAMI,YAAY,CAAEC,YANlB,EADO,EAAV,CADL,CAWI,2BAAK,KAAK,CAAE,CAAEG,OAAO,CAAE1B,KAAK,CAAC2B,MAAN,GAAe,CAAf,CAAmB,EAAnB,CAAwB,MAAnC,CAA2CC,SAAS,CAAE,QAAtD,CAAgEC,KAAK,CAAE,SAAvE,CAAZ,EACI,2BAAK,KAAK,CAAE,CAACC,KAAK,CAAE,OAAR,CAAZ,CAA8B,GAAG,CAAEhC,YAAnC,CAAiD,GAAG,CAAC,UAArD,EADJ,CAEI,iDAFJ,CAXJ,CADF,CAkBD,CACD,cAAeC,CAAAA,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport VoteTeam from \"./VoteTeam\";\nimport thumbsup_img from '../img/thumbsup.png';\n\nfunction Teams() {\n  const [teams, setTeams] = useState([]);\n  const [votedTeams, setVotedTeams] = useState(window.localStorage.getItem(\"votedTeams\") ? JSON.parse(window.localStorage.getItem(\"votedTeams\")) : []);  \n\n  function placeVote (index, type) {\n    const tempTeams = [...teams];\n    \n    \n    const tempVotedTeams = tempTeams[index];\n    tempVotedTeams.voteType = type;\n    const tempVotedTeams1 = [...votedTeams, tempVotedTeams];\n    tempTeams.splice(index, 1);\n    setTeams(tempTeams);\n\n    setVotedTeams(tempVotedTeams1);\n    window.localStorage.setItem(\"teams\", JSON.stringify(tempTeams));\n    window.localStorage.setItem(\"votedTeams\", JSON.stringify(tempVotedTeams1));\n\n    window.location.reload();\n  };\n\n  const voteHomeTeam = index => {\n    placeVote(index, \"Home Team\");\n  };\n\n  const voteDraw = index => {\n    placeVote(index, \"Draw\");\n  };\n\n  const voteAwayTeam = index => {\n    placeVote(index, \"Away Team\");\n  };\n  \n  useEffect(() => {\n    setTeams(JSON.parse(window.localStorage.getItem(\"teams\")));\n  }, []);\n\n  return (\n    <div>\n        {teams.map((team, index) => (  \n            <VoteTeam\n                key={index}\n                index={index}\n                team={team}\n                voteHomeTeam={voteHomeTeam}\n                voteDraw={voteDraw}\n                voteAwayTeam={voteAwayTeam}\n            />\n        ))}\n        <div style={{ display: teams.length===0 ? \"\" : \"none\", textAlign: \"center\", color: \"#ffffff\"}}>\n            <img style={{width: \"100px\"}} src={thumbsup_img} alt=\"Finished\" />\n            <p>Hurray! Finished.</p>\n        </div>\n    </div>\n  );\n}\nexport default Teams;"]},"metadata":{},"sourceType":"module"}